(function(b){var a={init:function(o){var m=b(this),j=b.extend({refresh:false,after:function(){}},o),f=j.mouseWhell,k=j.elEven,n=j.onlyDif,l=j.allParams,d=j.hoverParent,i=j.jScrollPane||false,c=j.after,h=j.scrollPane,g=j.helper,e="equal";m.each(function(y){var x=b(this),p=x.is(":visible");if(p){var u=x.find(j.left),M=x.find(j.right),G=u.length;if(!x.is("[data-equalHorizCell]")){var I=0,P=[],L=x.find(j.frameScroll),s=L.children(),D=s.length,N=j.scrollNSP&&b.exists(L),v=j.scrollNSPT;for(var F=0;F<G;F++){var H=b([]);M.each(function(){H=H.add(b(this).find(k).eq(F))});var r=u.eq(F).add(H);r.each(function(w){var Q=b(this);P[w]=Q.outerHeight();P[w]>I?I=P[w]:I=I});r.add(r.find(g)).css("height",I).attr("data-equalHorizCell","");P=[];I=0}var A=0;L.children().each(function(){A+=b(this).outerWidth(true)});L.css("width",A);var K=L.parent(),J=K.width(),E=A-J;if(N&&D!=0){v=x.find(v);var C=v.position().top+v.height();x.children(".scrollNSP").remove();x.append('<div class="scrollNSP" style = "overflow:auto;"><div style="width:'+A+'px;"></div></div>')}var z=K.css("overflow","hidden"),t=b([]);if(N){t=x.children(".scrollNSP");if(i){t.addClass("jScrollPane")}t.css({width:J,top:C})}var B="";function O(){B=b(t).jScrollPane(h);B=B.data("jsp");return B}if(i){B=O()}function q(w,Q){if(Q!=E&&w<0){if(i){B.scrollToX(Q+A/D)}else{z.add(t).scrollLeft(Q+A/D)}}if(Q>0&&w>0){if(i){B.scrollToX(Q-A/D)}else{z.add(t).scrollLeft(Q-A/D)}}}if((f||isTouch)&&E>0){z.add(t).off("mousewheel").on("mousewheel",function(S,T,Q,w){var R=b(this).scrollLeft();if(i){R=B.getContentPositionX()}q(w,R);if(R!=E&&R>0){return false}});if(isTouch){z.off("touchstart."+e+y+" touchmove."+e+y+" touchend."+e+y+"");z.on("touchstart."+e+y,function(w){sP=w.originalEvent.touches[0];sP=sP.pageX});z.on("touchmove."+e+y,function(w){w.stopPropagation();w.preventDefault();eP=w.originalEvent.touches[0];eP=eP.pageX});z.on("touchend."+e+y,function(w){w.stopPropagation();if(Math.abs(eP-sP)>200){if(eP-sP>0){q(1)}else{q(-1)}}})}}if(i){B.scrollToX(0)}else{z.add(t).scrollLeft("0")}if(E>0){t.off("scroll."+e+y).on("scroll."+e+y,function(){var w=b(this).scrollLeft();if(i){w=B.getContentPositionX()}z.add(t).scrollLeft(w)})}x.attr("data-equalHorizCell","")}var M=M.find(d),u=u.parent(d).children();u.each(function(w){if(w%2==0){b(this).removeClass("evenC").addClass("oddC")}else{b(this).removeClass("oddC").addClass("evenC")}});M.each(function(){b(this).find(k).each(function(Q){var R=b(this),w=R.children(":last");w.text(w.text().trimMiddle().pasteSAcomm());if(Q%2==0){R.removeClass("evenC").addClass("oddC")}else{R.removeClass("oddC").addClass("evenC")}})});a.hoverComprasion(u,M,k);n.off("click."+e+y).on("click."+e+y,function(){a.onlyDifM(u,M,G,k)});l.off("click."+e+y).on("click."+e+y,function(){a.allParamsM(u,M,k)});n.parent("."+aC).children().trigger("click."+e);l.parent("."+aC).children().trigger("click."+e);c(x)}});return m},refresh:function(c){var d=b(this);b("[data-equalHorizCell]").removeAttr("data-equalHorizCell").filter(":not([data-refresh])").removeAttr("style");d.equalHorizCell(b.extend(b.extend({},c),{refresh:true}));return d},hoverComprasion:function(e,c,d){e.add(c.find(d)).hover(function(){var h=b(this),f=h.index(),g=b([]);c.each(function(){g=g.add(b(this).find(d).eq(f))});b([]).add(e.eq(f)).add(g).addClass("hover")},function(){var h=b(this),f=h.index(),g=b([]);c.each(function(){g=g.add(b(this).find(d).eq(f))});b([]).add(e.eq(f)).add(g).removeClass("hover")})},onlyDifM:function(e,l,o,f){var i=[],c=b([]),n="",g=0;for(var h=0;h<o;h++){var m=b([]);l.each(function(){m=m.add(b(this).find(f).eq(h))});var d=m,n="";d.each(function(j){var k=b(this);i[j]=k.text();if(n==i[j]){g++}n=i[j]});if(g==d.length-1&&g!=0){c=c.add(e.eq(h)).add(d)}i=[];g=0;n=""}l.each(function(){b(this).find(f).not(c).removeClass("evenC").removeClass("oddC").each(function(j){if(j%2==0){b(this).addClass("oddC")}else{b(this).addClass("evenC")}})});e.not(c).removeClass("evenC").removeClass("oddC").each(function(j){if(j%2==0){b(this).addClass("oddC")}else{b(this).addClass("evenC")}});c.hide()},allParamsM:function(e,c,d){e.removeClass("evenC").removeClass("oddC").each(function(f){if(f%2==0){b(this).addClass("oddC")}else{b(this).addClass("evenC")}}).show();c.each(function(){b(this).find(d).removeClass("evenC").removeClass("oddC").each(function(f){if(f%2==0){b(this).addClass("oddC")}else{b(this).addClass("evenC")}}).show()})}};b.fn.equalHorizCell=function(c){if(a[c]){return a[c].apply(this,Array.prototype.slice.call(arguments,1))}else{if(typeof c==="object"||!c){return a.init.apply(this,arguments)}else{b.error("Method "+c+" does not exist on jQuery.equalHorizCell")}}};b.equalHorizCell=function(c){return a[c]}})(jQuery);